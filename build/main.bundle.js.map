{"version":3,"sources":["webpack:///webpack/bootstrap cf4d121abb6ed7af7ce8","webpack:///./js/transport_types.js","webpack:///./js/main.js","webpack:///./js/stations.js","webpack:///./js/fares.js"],"names":["TransportTypes","transportType","_transportType","transportTypes","type","find","e","fares","BUS","TUBE","passengerJourney","barrierEntry","barrierLeave","calculateFare","newBalance","currentFare","console","log","Stations","station","_station","stations","name","Fares","credit","maxFare","_currentFare","zonesTravelled","busJourneyFare","enterBarrier","leaveBarrier","method","push","zones","value","zone","uniqueZones","Set","includes","length","fare"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cf4d121abb6ed7af7ce8","export default class TransportTypes {\n    constructor(transportType) {\n\n        this._transportType = transportType; \n        \n        this.transportTypes = [\n            {\n                \"type\": \"bus\", \n            },\n            {\n                \"type\": \"tube\", \n            },\n        ]; \n    }\n\n\n    set transportType(type) {\n        this._transportType = type; \n    }\n\n    get transportType() {\n        return this.transportTypes.find(e=> e.type === this._transportType);\n    }\n\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./js/transport_types.js","import Stations from './stations'; \nimport Fares from './fares'; \nimport transportType from './transport_types'; \n/**\n * Tube Holborn to Earl's Court\n * 328 bus from Earl's Court to Chelsea\n * Tube Earl's court to Hammersmith\n */\n\n\nlet fares = new Fares(); \n\n\nconst BUS = new transportType('bus').transportType; \nconst TUBE = new transportType('tube').transportType; \n\nlet passengerJourney = () => {\n    fares.barrierEntry(new Stations('Holborn'), TUBE); \n    fares.barrierLeave(new Stations(\"Earl's Court\"), TUBE); \n\n    fares.barrierEntry(new Stations(\"Earl's Court\"), BUS); \n    fares.barrierLeave(new Stations('Chelsea'), BUS); \n\n    fares.barrierEntry(new Stations(\"Earl's Court\"), TUBE); \n    fares.barrierLeave(new Stations('Hammersmith'), TUBE); \n\n    fares.calculateFare(); \n}\n\n\npassengerJourney(); \n\nlet newBalance = fares.currentFare; \n\nconsole.log(newBalance); \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","export default class Stations {\n    constructor(station) {\n\n        this._station = station; \n        \n        this.stations = [\n            {\n                \"name\": \"Holborn\", \n                \"zone\": \"1\"\n            },\n            {\n                \"name\": \"Earl's Court\", \n                \"zone\": \"1,2\"\n            },\n            {\n                \"name\": \"Wimbledon\", \n                \"zone\": \"3\"\n            },\n            {\n                \"name\": \"Hammersmith\", \n                \"zone\": \"2\"\n            },                                    \n        ]; \n    }\n\n    set station(name) {\n        return this._station; \n    }\n    get station() {\n        return this.stations.find(e=> e.name === this._station);\n    }\n\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./js/stations.js","import transportType from './transport_types'; \nexport default class Fares {\n        /**\n         * fare is calculated at max fare on entry\n         * on exit, max fare is removed, actual fare applied\n         * The fare defaults to the minimum price\n         * \n         * Anywhere in Zone 1               2.50\n         * Any one zone outside zone 1      2.00\n         * Any two zones including zone 1   3.00\n         * Any two zones excluding zone 1   2.25\n         * Any three zones                  3.20\n         * Any bus journey                  1.80\n         * \n         * Max possible fare is 3.20\n         */    \n\n\n    constructor(credit=30) {\n        this.credit = credit; \n        this.maxFare = 3.20; \n        this._currentFare = 0; \n        this.zonesTravelled = [];  \n        this.busJourneyFare = 1.80; \n\n        this.enterBarrier = 'BARRIER_ENTRY'; \n        this.leaveBarrier = 'BARRIER_LEAVE'; \n\n        this.BUS = new transportType('bus').transportType; \n        this.TUBE = new transportType('tube').transportType; \n\n        \n    }\n\n    \n\n    // Get current fare\n    get currentFare() {\n        return this._currentFare; \n    }\n\n    // Set current fare\n    set currentFare(fare) {\n        this._currentFare = fare; \n    }\n\n    /**\n     * When the user enters the barrier, record the method of transport and the station including zones\n     *\n     * @param {object} station \n     * @param {object} method \n     */\n    barrierEntry(station, method) {   \n        // Deduct the max fare\n        this.currentFare = (this.credit - this.maxFare); \n\n        \n        // If travel is by bus, automatically deduct the bus fare\n        if(method.type === this.BUS.type) {\n            this.currentFare = (this.currentFare + this.maxFare) - this.busJourneyFare; \n        } else { // If the journey is by tube, push the zones and do the calculation on barrier exit\n            this.zonesTravelled.push(station.station); \n\n        }\n    }\n\n    /**\n     * When the user leaves the barrier, record the departing station and transport type\n     * @param {object} station \n     * @param {object} method \n     */\n    barrierLeave(station, method) {\n        // If travel is by bus, the fare has already been deducted\n        if(method.type === this.BUS.type) {\n            return; \n        } else { // Record the stations the user travelled through\n            this.zonesTravelled.push(station.station); \n            // Calculate the fare based on the stations passed through \n            // this.calculateFare(); \n        }\n        \n    }\n\n    calculateFare() {\n        // create an array to hold the zones\n        let zones = []; \n\n        // iterate over the zones and extract the zone numbers\n        for(let value of this.zonesTravelled){\n            zones.push(value.zone); \n        }\n        \n        // Dedupe the zones\n        const uniqueZones = [...new Set(zones)]; \n\n        // * Anywhere in Zone 1               2.50\n        // * Any one zone outside zone 1      2.00\n        // * Any two zones including zone 1   3.00\n        // * Any two zones excluding zone 1   2.25\n        // * Any three zones                  3.20\n        // * Any bus journey                  1.80   \n        \n        console.log(uniqueZones); \n             \n        switch (uniqueZones) {\n            // Anywhere in Zone 1\n            case uniqueZones.includes(\"1\") && !uniqueZones.includes(\"2\") : \n                console.log('Anywhere in Zone 1'); \n                this.currentFare = (this.credit - 2.50); \n                return; \n            \n            // Any two zones including zone 1\n            case uniqueZones.includes(\"2\") && uniqueZones.includes(\"1\") && !uniqueZones.includes(\"3\"): \n                console.log('Any two zones including zone 1'); \n                this.currentFare = (this.credit - 2.00); \n                return; \n\n            // Any two zones excluding zone 1\n            case uniqueZones.includes(\"2\") && !uniqueZones.includes(\"1\") && uniqueZones.length > 2 : \n                console.log('Any two zones excluding zone 1'); \n                this.currentFare = (this.credit - 3.00); \n                return; \n            // Any three zones\n            case uniqueZones.includes(\"1\") && uniqueZones.includes(\"2\") && uniqueZones.includes(\"3\") : \n                console.log('Any three zones'); \n                this.currentFare = (this.credit - 3.20); \n                return; \n            // If no conditions above are met\n            default : \n                console.log('No zones detected so deduct the max'); \n                this.currentFare = (this.credit - this.maxFare);  \n                return; \n\n        }\n\n    }\n    \n\n}\n\n\n// WEBPACK FOOTER //\n// ./js/fares.js"],"sourceRoot":""}